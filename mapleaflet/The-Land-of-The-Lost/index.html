<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>The Land of The Lost Earth Revival Interactive Maps</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="app.css">
<link rel="stylesheet" href="contributionmarker.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8582564022805467"
     crossorigin="anonymous" data-adbreak-test="on"></script>

<script>
     (adsbygoogle = window.adsbygoogle || []).push({
         google_ad_client: "ca-pub-8582564022805467",
         enable_page_level_ads: true
     });
</script>
</head>
<body>
<!-- Di dalam <body>, sebelum <div id="map"> -->
<div id="loader">
    <div class="spinner"></div>
    <div id="loading-text">0%</div>
</div>
<div id="map" style="display: none;"></div>
<!-- Floating Modal for Marker Contribution -->
<div id="markerContributionModal" style="display: none;">
    <div id="markerContributionContent">
        <span id="closeMarkerContribution">&times;</span>
        <!-- Form akan dimasukkan lewat JavaScript -->
    </div>
</div>
<div id="loadingSpinner" style="display:none;position:fixed;top:10px;left:50%;transform:translateX(-50%);background:white;padding:10px;border:1px solid #ccc;z-index:9999;">
  Loading markers...
</div>

<button id="home-map-btn">
    <img src="../icons/new_filter-btn.png" alt="Home Map">
</button>

<button id="toggle-filter-btn">
    <img src="../icons/toggle_btn.png" alt="Toggle Filter">
</button>

<div id="filter-container">
    <label>
        <input type="checkbox" id="filter-treasure" checked>
        <img src="../icons/icon_treasure.png" alt="Treasure Icon">
        <span class="filter-text">Treasure <span class="filter-count" data-category="2">0/0</span></span>
    </label><br>
    <label>
        <input type="checkbox" id="filter-train" checked>
        <img src="../icons/icon_train.png" alt="Train Icon">
        <span class="filter-text">Train <span class="filter-count" data-category="3">0/0</span></span>
    </label><br>
    <label>
        <input type="checkbox" id="filter-zone" checked>
        <img src="../icons/icon_zone.png" alt="Zone Icon">
        <span class="filter-text">Zone <span class="filter-count" data-category="4">0/0</span></span>
    </label><br>
    <label>
        <input type="checkbox" id="filter-scenery" checked>
        <img src="../icons/icon_scenery.png" alt="Scenery Icon">
        <span class="filter-text">Scenery <span class="filter-count" data-category="5">0/0</span></span>
    </label><br>
    <label>
        <input type="checkbox" id="filter-resource" checked>
        <img src="../icons/icon_resource.png" alt="Resource Icon">
        <span class="filter-text">Resource <span class="filter-count" data-category="6">0/0</span></span>
    </label><br>
</div>

<div id="uploadModal" style="display:none; position:fixed; top:30%; left:50%; transform:translate(-50%, -50%); background:white; border:1px solid #ccc; padding:20px; z-index:99999;">
    <h3 id="uploadTitle">Upload Image</h3>
    <input type="file" id="uploadInput" accept="image/*" />
    <br><br>
    <button onclick="submitUpload()">Submit</button>
    <button onclick="closeUploadPopup()">Cancel</button>
</div>

<!-- Iklan sticky bawah dengan background hitam transparan dan bisa ditutup -->
<div id="ad-container" style="position:fixed; bottom:0; left:0; width:100%; background: rgba(0,0,0,0.1); z-index:9999;">
  <div style="position: relative; max-width: 100%; margin: auto; background: rgba(0, 0, 0, 0.1); padding: 10px 40px 10px 10px;">
<ins class="adsbygoogle"
     style="display:block; height:60px;"
     data-ad-client="ca-pub-8582564022805467"
     data-ad-slot="1368580738"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>

    <!-- Tombol close -->
    <button onclick="document.getElementById('ad-container').style.display='none'" 
            style="position:absolute; top:5px; right:5px; background:none; color:white; border:none; font-size:24px; font-weight:bold; cursor:pointer; z-index:10000;">Ã—</button>
  </div>
</div>

<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>

    <!-- Leaflet Library -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- Preload Script -->
<script src="preload.js"></script>

<script>
  // Muat app.js dengan query unik supaya selalu fresh
  const script = document.createElement('script');
  script.src = 'app.js?v=' + Date.now();
  document.body.appendChild(script);
</script>
<script src="dev_tools.js"></script>

</body>
</html>
